<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NEBULA OVERLORD v28</title>
    <style>
        :root { --p: #00f2ff; --s: #7000ff; --bg: #020205; --w: #ffffff; --acc: #ff0055; }
        * { -webkit-tap-highlight-color: transparent; outline: none; user-select: none; box-sizing: border-box; }
        
        body { background: var(--bg); color: var(--w); font-family: 'Segoe UI', sans-serif; margin: 0; overflow: hidden; height: 100vh; display: flex; flex-direction: column; align-items: center; }

        /* Kozmik Arka Plan */
        .stars { position: fixed; inset: 0; z-index: -1; background: radial-gradient(circle at 50% 50%, #101025 0%, #020205 100%); }
        .nebula { position: absolute; width: 400px; height: 400px; background: var(--s); filter: blur(150px); opacity: 0.15; border-radius: 50%; animation: float 20s infinite alternate; }
        @keyframes float { from { transform: translate(-50%, -50%); } to { transform: translate(50%, 50%); } }

        /* √úst Panel (Borsa Stili) */
        .h-panel { width: 100%; padding: 30px; text-align: center; background: linear-gradient(to bottom, rgba(0,242,255,0.05), transparent); border-bottom: 1px solid rgba(255,255,255,0.05); }
        #money { font-size: 4.5rem; font-weight: 900; color: var(--p); text-shadow: 0 0 30px rgba(0,242,255,0.5); letter-spacing: -3px; }
        .income { font-size: 12px; letter-spacing: 2px; color: #555; font-weight: bold; margin-top: -5px; }

        /* ENERJƒ∞ √áEKƒ∞RDEƒûƒ∞ (Geli≈ümi≈ü) */
        .core-zone { position: relative; margin: 40px 0; width: 280px; height: 280px; display: flex; justify-content: center; align-items: center; }
        .ring { position: absolute; inset: 0; border: 2px solid var(--p); border-radius: 50%; opacity: 0.3; animation: pulse 2s infinite; }
        .ring-inner { position: absolute; inset: 20px; border: 1px solid var(--s); border-radius: 50%; animation: spin 8s linear infinite; }
        .main-core { width: 180px; height: 180px; background: radial-gradient(circle, #1a1a2e, #000); border: 4px solid #333; border-radius: 50%; z-index: 10; cursor: pointer; display: flex; justify-content: center; align-items: center; font-size: 80px; transition: 0.1s cubic-bezier(0.175, 0.885, 0.32, 1.275); box-shadow: 0 0 50px rgba(0,0,0,1); }
        .main-core:active { transform: scale(0.88); border-color: var(--p); box-shadow: 0 0 80px rgba(0,242,255,0.4); }

        @keyframes pulse { 0% { transform: scale(1); opacity: 0.3; } 100% { transform: scale(1.3); opacity: 0; } }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* Tƒ±klama Efekti */
        .tƒ±k-val { position: absolute; color: var(--p); font-weight: 900; font-size: 28px; pointer-events: none; animation: fly 0.8s ease-out forwards; z-index: 100; text-shadow: 0 0 10px var(--p); }
        @keyframes fly { 0% { opacity: 1; transform: translateY(0) scale(1); } 100% { opacity: 0; transform: translateY(-150px) scale(1.5) rotate(15deg); } }

        /* Men√º Navigasyonu */
        .nav-bar { position: fixed; bottom: 40px; display: flex; gap: 15px; z-index: 1000; background: rgba(255,255,255,0.03); padding: 12px; border-radius: 30px; backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.1); }
        .n-btn { width: 60px; height: 60px; border-radius: 20px; border: none; background: #111; color: white; font-size: 22px; cursor: pointer; transition: 0.3s; display: flex; align-items: center; justify-content: center; }
        .n-btn:active { transform: scale(0.8); background: var(--p); color: #000; }

        /* Paneller */
        .pnl { position: fixed; inset: 0; background: rgba(2,2,5,0.98); z-index: 2000; display: none; flex-direction: column; padding: 40px 25px; backdrop-filter: blur(40px); border-top: 2px solid var(--p); }
        .pnl-h { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
        .card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.06); padding: 22px; border-radius: 25px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; transition: 0.2s; }
        .card:active { background: rgba(0,242,255,0.05); border-color: var(--p); }
        .buy { background: var(--p); color: #000; border: none; padding: 14px 24px; border-radius: 18px; font-weight: 900; font-size: 14px; box-shadow: 0 5px 15px rgba(0,242,255,0.2); }

        #crisis { position: fixed; inset: 0; background: rgba(255,0,0,0.9); z-index: 9999; display: none; flex-direction: column; justify-content: center; align-items: center; text-align: center; }
    </style>
</head>
<body>

    <div class="stars"></div>
    <div class="nebula"></div>

    <div id="crisis">
        <h1 style="font-size: 60px; margin:0;">üö® Sƒ∞STEM √á√ñKT√ú!</h1>
        <p>Hackerlar saldƒ±rƒ±yor, acil m√ºdahale et!</p>
        <button onclick="fix()" style="padding:25px 60px; border-radius:50px; border:none; background:white; font-weight:900; color:red; font-size:22px;">Sƒ∞STEMƒ∞ ONAR</button>
    </div>

    <div class="h-panel">
        <div id="money">0 ‚Ç∫</div>
        <div class="income" id="inc-ui">GELƒ∞R: 0 ‚Ç∫/SN</div>
    </div>

    <div class="core-zone">
        <div class="ring"></div>
        <div class="ring-inner"></div>
        <div class="main-core" onclick="tƒ±kla(event)">‚ö°</div>
    </div>

    <div class="nav-bar">
        <button class="n-btn" onclick="pA√ß('mkt')">üõí</button>
        <button class="n-btn" onclick="pA√ß('ach')">üèÜ</button>
        <button class="n-btn" onclick="pA√ß('set')">‚öôÔ∏è</button>
    </div>

    <div id="p-mkt" class="pnl">
        <div class="pnl-h"><h2 style="color:var(--p); margin:0;">KOZMƒ∞K MARKET</h2><b onclick="pKapat()" style="font-size:35px;">√ó</b></div>
        <div class="card" style="border:1px solid var(--s);">
            <div><b style="color:var(--s)">YENƒ∞DEN DOƒûU≈û</b><br><small id="rb-l">Seviye 0</small></div>
            <button class="buy" id="rb-btn" onclick="doRb()" style="background:var(--s); color:white;">0 ‚Ç∫</button>
        </div>
        <div id="shop-list" style="overflow-y:auto; flex:1;"></div>
    </div>

    <div id="p-set" class="pnl">
        <div class="pnl-h"><h2>Sƒ∞STEM VERƒ∞LERƒ∞</h2><b onclick="pKapat()" style="font-size:35px;">√ó</b></div>
        <div class="card"><span>Toplam Enerji:</span> <b id="st-tc">0</b></div>
        <div class="card"><span>Aktif S√ºre:</span> <b id="st-pt">0</b></div>
        <button onclick="rst()" style="width:100%; padding:22px; background:var(--acc); color:white; border:none; border-radius:20px; font-weight:bold; margin-top:30px; font-size:18px;">T√úM VERƒ∞LERƒ∞ Sƒ∞L</button>
    </div>

    <script>
        let m = parseFloat(localStorage.getItem('m')) || 0;
        let pc = parseFloat(localStorage.getItem('pc')) || 1;
        let ai = parseFloat(localStorage.getItem('ai')) || 0;
        let rb = parseInt(localStorage.getItem('rb')) || 0;
        let tc = parseInt(localStorage.getItem('tc')) || 0;
        let pt = parseInt(localStorage.getItem('pt')) || 0;
        let last = Date.now(), cri = false;

        const its = [
            {n:"Enerji Paneli", b:30, p:1, t:"c"},
            {n:"Siber Maden", b:150, p:8, t:"a"},
            {n:"Kozmik ƒ∞stasyon", b:1200, p:80, t:"a"},
            {n:"Yapay Zeka", b:10000, p:900, t:"a"},
            {n:"Zaman Kapƒ±sƒ±", b:80000, p:6000, t:"a"},
            {n:"Galaksi Reisi", b:1000000, p:90000, t:"a"}
        ];

        function tƒ±kla(e) {
            if(cri) return;
            last = Date.now();
            let val = pc * (1+rb);
            m += val; tc++;
            
            const p = document.createElement('div');
            p.className = 'tƒ±k-val';
            p.innerText = `+${Math.floor(val)}‚Ç∫`;
            p.style.left = e.clientX + 'px';
            p.style.top = e.clientY + 'px';
            document.body.appendChild(p);
            setTimeout(()=>p.remove(), 800);

            update(); save();
        }

        function pA√ß(id) { 
            document.querySelectorAll('.pnl').forEach(p=>p.style.display='none');
            document.getElementById('p-'+id).style.display='flex';
            if(id=='mkt') renderShop();
        }
        function pKapat() { document.querySelectorAll('.pnl').forEach(p=>p.style.display='none'); }

        function renderShop() {
            let h = "";
            its.forEach((it, i) => {
                let l = parseInt(localStorage.getItem('l'+i)) || 0;
                let c = Math.floor(it.b * Math.pow(1.65, l));
                h += `<div class="card"><div><b>${it.n}</b><br><small>+${it.p} ${it.t=='c'?'Tƒ±k':'Sn'}</small></div><button class="buy" onclick="buy(${i})">${c.toLocaleString()}‚Ç∫</button></div>`;
            });
            document.getElementById('shop-list').innerHTML = h;
        }

        function buy(i) {
            let l = parseInt(localStorage.getItem('l'+i)) || 0;
            let c = Math.floor(its[i].b * Math.pow(1.65, l));
            if(m >= c) {
                m -= c; localStorage.setItem('l'+i, l+1);
                if(its[i].t=='c') pc += its[i].p; else ai += its[i].p;
                renderShop(); update(); save();
            }
        }

        function doRb() {
            let c = 15000 * (rb+1);
            if(m >= c) { rb++; m=0; pc=1; ai=0; its.forEach((_,i)=>localStorage.removeItem('l'+i)); save(); location.reload(); }
        }

        function fix() { cri = false; document.getElementById('crisis').style.display='none'; last=Date.now(); }

        setInterval(() => {
            if(!cri) { m += (ai * (1+rb)); pt++; }
            if(Date.now() - last > 180000 && !cri) { cri = true; document.getElementById('crisis').style.display='flex'; }
            update(); save();
        }, 1000);

        function update() {
            document.getElementById('money').innerText = Math.floor(m).toLocaleString() + " ‚Ç∫";
            document.getElementById('inc-ui').innerText = `GELƒ∞R: ${Math.floor(ai*(1+rb)).toLocaleString()} ‚Ç∫/SN`;
            document.getElementById('st-tc').innerText = tc.toLocaleString();
            document.getElementById('rb-l').innerText = "Seviye " + rb;
            document.getElementById('rb-btn').innerText = (15000*(rb+1)).toLocaleString() + " ‚Ç∫";
            document.getElementById('rb-btn').disabled = m < (15000*(rb+1));
            let h = Math.floor(pt/3600); let min = Math.floor((pt%3600)/60);
            document.getElementById('st-pt').innerText = `${h}s ${min}d`;
        }

        function save() {
            localStorage.setItem('m', m); localStorage.setItem('pc', pc);
            localStorage.setItem('ai', ai); localStorage.setItem('rb', rb);
            localStorage.setItem('tc', tc); localStorage.setItem('pt', pt);
        }
        function rst() { if(confirm("EVRENƒ∞ SIFIRLAMAK ƒ∞STEDƒ∞ƒûƒ∞NE EMƒ∞N Mƒ∞Sƒ∞N?")) { localStorage.clear(); location.reload(); } }
    </script>
</body>
</html>